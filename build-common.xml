<project name='build-common'>
	<import file='dependencies.xml'/>
	<dirname property='build-common.root' file='${ant.file.build-common}'/>
	<fileset id='bundled-jars' dir='${build-common.root}/libs'>
		<include name='*.jar'/>
	</fileset>
	<fileset id='test-jars' dir='${build-common.root}/libs/test'>
		<include name='*.jar'/>
	</fileset>
	<path id='classes'>
		<pathelement location='${build-common.root}/src/build'/>
	</path>
	<path id='test-classes'>
		<pathelement location='${build-common.root}/test/build'/>
	</path>
	<target name='clean'>
		<delete dir='build'/>
		<delete dir='test.tmp'/>
	</target>
	<target name='compile'>
		<mkdir dir='build'/>
		<javac srcdir='net/sf/briar' destdir='build' source='1.5'
			includeantruntime='false' debug='on'>
			<classpath>
				<fileset refid='bundled-jars'/>
				<fileset refid='test-jars'/>
				<path refid='classes'/>
			</classpath>
		</javac>
	</target>
	<target name='depend'>
		<antcall target='depend.${ant.project.name}'/>
	</target>
	<target name='depend-clean'>
		<antcall target='depend-clean.${ant.project.name}'/>
	</target>
</project>
