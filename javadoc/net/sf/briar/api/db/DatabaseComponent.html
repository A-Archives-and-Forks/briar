<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Wed Aug 31 17:44:33 BST 2011 -->
<TITLE>
DatabaseComponent (Briar)
</TITLE>

<META NAME="date" CONTENT="2011-08-31">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DatabaseComponent (Briar)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../net/sf/briar/api/db/DatabaseListener.html" title="interface in net.sf.briar.api.db"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?net/sf/briar/api/db/DatabaseComponent.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DatabaseComponent.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.sf.briar.api.db</FONT>
<BR>
Interface DatabaseComponent</H2>
<HR>
<DL>
<DT><PRE>public interface <B>DatabaseComponent</B></DL>
</PRE>

<P>
Encapsulates the database implementation and exposes high-level operations
 to other components.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#BYTES_PER_SWEEP">BYTES_PER_SWEEP</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#CRITICAL_FREE_SPACE">CRITICAL_FREE_SPACE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#EXPIRY_MODULUS">EXPIRY_MODULUS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#MAX_BYTES_BETWEEN_SPACE_CHECKS">MAX_BYTES_BETWEEN_SPACE_CHECKS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#MAX_MS_BETWEEN_SPACE_CHECKS">MAX_MS_BETWEEN_SPACE_CHECKS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#MEGABYTES">MEGABYTES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#MIN_FREE_SPACE">MIN_FREE_SPACE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#addContact(java.util.Map, byte[])">addContact</A></B>(java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.String&gt;&gt;&nbsp;transports,
           byte[]&nbsp;secret)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new contact to the database with the given transport properties
 and shared secret, returns an ID for the contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#addListener(net.sf.briar.api.db.DatabaseListener)">addListener</A></B>(<A HREF="../../../../../net/sf/briar/api/db/DatabaseListener.html" title="interface in net.sf.briar.api.db">DatabaseListener</A>&nbsp;d)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a listener to be notified when database events occur.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#addLocallyGeneratedMessage(net.sf.briar.api.protocol.Message)">addLocallyGeneratedMessage</A></B>(<A HREF="../../../../../net/sf/briar/api/protocol/Message.html" title="interface in net.sf.briar.api.protocol">Message</A>&nbsp;m)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a locally generated message to the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Waits for any open transactions to finish and closes the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#findLostBatches(net.sf.briar.api.ContactId)">findLostBatches</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds any lost batches that were sent to the given contact, and marks any
 messages in the batches that are still outstanding for retransmission.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#generateAck(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.AckWriter)">generateAck</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
            <A HREF="../../../../../net/sf/briar/api/protocol/writers/AckWriter.html" title="interface in net.sf.briar.api.protocol.writers">AckWriter</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates an acknowledgement for the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#generateBatch(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.BatchWriter)">generateBatch</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
              <A HREF="../../../../../net/sf/briar/api/protocol/writers/BatchWriter.html" title="interface in net.sf.briar.api.protocol.writers">BatchWriter</A>&nbsp;b)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates a batch of messages for the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/protocol/MessageId.html" title="class in net.sf.briar.api.protocol">MessageId</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#generateBatch(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.BatchWriter, java.util.Collection)">generateBatch</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
              <A HREF="../../../../../net/sf/briar/api/protocol/writers/BatchWriter.html" title="interface in net.sf.briar.api.protocol.writers">BatchWriter</A>&nbsp;b,
              java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/protocol/MessageId.html" title="class in net.sf.briar.api.protocol">MessageId</A>&gt;&nbsp;requested)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates a batch of messages for the given contact from the given
 collection of requested messages, and returns the IDs of any messages
 that were either added to the batch, or were considered for inclusion
 but are no longer sendable to the contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/protocol/MessageId.html" title="class in net.sf.briar.api.protocol">MessageId</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#generateOffer(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.OfferWriter)">generateOffer</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
              <A HREF="../../../../../net/sf/briar/api/protocol/writers/OfferWriter.html" title="interface in net.sf.briar.api.protocol.writers">OfferWriter</A>&nbsp;o)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates an offer for the given contact and returns the offered
 message IDs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#generateSubscriptionUpdate(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.SubscriptionWriter)">generateSubscriptionUpdate</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                           <A HREF="../../../../../net/sf/briar/api/protocol/writers/SubscriptionWriter.html" title="interface in net.sf.briar.api.protocol.writers">SubscriptionWriter</A>&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates a subscription update for the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#generateTransportUpdate(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.TransportWriter)">generateTransportUpdate</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                        <A HREF="../../../../../net/sf/briar/api/protocol/writers/TransportWriter.html" title="interface in net.sf.briar.api.protocol.writers">TransportWriter</A>&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates a transport update for the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../net/sf/briar/api/transport/ConnectionWindow.html" title="interface in net.sf.briar.api.transport">ConnectionWindow</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getConnectionWindow(net.sf.briar.api.ContactId, int)">getConnectionWindow</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                    int&nbsp;transportId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the connection reordering window for the given contact and
 transport.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getContacts()">getContacts</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the IDs of all contacts.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../net/sf/briar/api/Rating.html" title="enum in net.sf.briar.api">Rating</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getRating(net.sf.briar.api.protocol.AuthorId)">getRating</A></B>(<A HREF="../../../../../net/sf/briar/api/protocol/AuthorId.html" title="class in net.sf.briar.api.protocol">AuthorId</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the user's rating for the given author.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getSharedSecret(net.sf.briar.api.ContactId)">getSharedSecret</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the secret shared with the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/protocol/Group.html" title="interface in net.sf.briar.api.protocol">Group</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getSubscriptions()">getSubscriptions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the set of groups to which the user subscribes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getTransportConfig(java.lang.String)">getTransportConfig</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the configuration for the transport with the given name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.String&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getTransports()">getTransports</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all local transport properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.String&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getTransports(net.sf.briar.api.ContactId)">getTransports</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all transport properties for the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#getVisibility(net.sf.briar.api.protocol.GroupId)">getVisibility</A></B>(<A HREF="../../../../../net/sf/briar/api/protocol/GroupId.html" title="class in net.sf.briar.api.protocol">GroupId</A>&nbsp;g)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the contacts to which the given group is visible.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#hasSendableMessages(net.sf.briar.api.ContactId)">hasSendableMessages</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if any messages are sendable to the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#open(boolean)">open</A></B>(boolean&nbsp;resume)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opens the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#receiveAck(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.Ack)">receiveAck</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
           <A HREF="../../../../../net/sf/briar/api/protocol/Ack.html" title="interface in net.sf.briar.api.protocol">Ack</A>&nbsp;a)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes an acknowledgement from the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#receiveBatch(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.Batch)">receiveBatch</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
             <A HREF="../../../../../net/sf/briar/api/protocol/Batch.html" title="interface in net.sf.briar.api.protocol">Batch</A>&nbsp;b)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes a batch of messages from the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#receiveOffer(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.Offer, net.sf.briar.api.protocol.writers.RequestWriter)">receiveOffer</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
             <A HREF="../../../../../net/sf/briar/api/protocol/Offer.html" title="interface in net.sf.briar.api.protocol">Offer</A>&nbsp;o,
             <A HREF="../../../../../net/sf/briar/api/protocol/writers/RequestWriter.html" title="interface in net.sf.briar.api.protocol.writers">RequestWriter</A>&nbsp;r)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes an offer from the given contact and generates a request for
 any messages in the offer that the contact should send.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#receiveSubscriptionUpdate(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.SubscriptionUpdate)">receiveSubscriptionUpdate</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                          <A HREF="../../../../../net/sf/briar/api/protocol/SubscriptionUpdate.html" title="interface in net.sf.briar.api.protocol">SubscriptionUpdate</A>&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes a subscription update from the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#receiveTransportUpdate(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.TransportUpdate)">receiveTransportUpdate</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                       <A HREF="../../../../../net/sf/briar/api/protocol/TransportUpdate.html" title="interface in net.sf.briar.api.protocol">TransportUpdate</A>&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes a transport update from the given contact.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#removeContact(net.sf.briar.api.ContactId)">removeContact</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes a contact (and all associated state) from the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#removeListener(net.sf.briar.api.db.DatabaseListener)">removeListener</A></B>(<A HREF="../../../../../net/sf/briar/api/db/DatabaseListener.html" title="interface in net.sf.briar.api.db">DatabaseListener</A>&nbsp;d)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes a listener.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#setConnectionWindow(net.sf.briar.api.ContactId, int, net.sf.briar.api.transport.ConnectionWindow)">setConnectionWindow</A></B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                    int&nbsp;transportId,
                    <A HREF="../../../../../net/sf/briar/api/transport/ConnectionWindow.html" title="interface in net.sf.briar.api.transport">ConnectionWindow</A>&nbsp;w)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the connection reordering window for the given contact and
 transport.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#setRating(net.sf.briar.api.protocol.AuthorId, net.sf.briar.api.Rating)">setRating</A></B>(<A HREF="../../../../../net/sf/briar/api/protocol/AuthorId.html" title="class in net.sf.briar.api.protocol">AuthorId</A>&nbsp;a,
          <A HREF="../../../../../net/sf/briar/api/Rating.html" title="enum in net.sf.briar.api">Rating</A>&nbsp;r)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Records the user's rating for the given author.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#setTransportConfig(java.lang.String, java.util.Map)">setTransportConfig</A></B>(java.lang.String&nbsp;name,
                   java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the configuration for the transport with the given name, replacing
 any existing configuration for that transport.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#setTransportProperties(java.lang.String, java.util.Map)">setTransportProperties</A></B>(java.lang.String&nbsp;name,
                       java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;properties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the transport properties for the transport with the given name,
 replacing any existing properties for that transport.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#setVisibility(net.sf.briar.api.protocol.GroupId, java.util.Collection)">setVisibility</A></B>(<A HREF="../../../../../net/sf/briar/api/protocol/GroupId.html" title="class in net.sf.briar.api.protocol">GroupId</A>&nbsp;g,
              java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&gt;&nbsp;visible)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makes the given group visible to the given set of contacts and invisible
 to any other contacts.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#subscribe(net.sf.briar.api.protocol.Group)">subscribe</A></B>(<A HREF="../../../../../net/sf/briar/api/protocol/Group.html" title="interface in net.sf.briar.api.protocol">Group</A>&nbsp;g)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subscribes to the given group.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sf/briar/api/db/DatabaseComponent.html#unsubscribe(net.sf.briar.api.protocol.GroupId)">unsubscribe</A></B>(<A HREF="../../../../../net/sf/briar/api/protocol/GroupId.html" title="class in net.sf.briar.api.protocol">GroupId</A>&nbsp;g)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unsubscribes from the given group.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MEGABYTES"><!-- --></A><H3>
MEGABYTES</H3>
<PRE>
static final int <B>MEGABYTES</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.sf.briar.api.db.DatabaseComponent.MEGABYTES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="MIN_FREE_SPACE"><!-- --></A><H3>
MIN_FREE_SPACE</H3>
<PRE>
static final long <B>MIN_FREE_SPACE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.sf.briar.api.db.DatabaseComponent.MIN_FREE_SPACE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="CRITICAL_FREE_SPACE"><!-- --></A><H3>
CRITICAL_FREE_SPACE</H3>
<PRE>
static final long <B>CRITICAL_FREE_SPACE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.sf.briar.api.db.DatabaseComponent.CRITICAL_FREE_SPACE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="MAX_BYTES_BETWEEN_SPACE_CHECKS"><!-- --></A><H3>
MAX_BYTES_BETWEEN_SPACE_CHECKS</H3>
<PRE>
static final int <B>MAX_BYTES_BETWEEN_SPACE_CHECKS</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.sf.briar.api.db.DatabaseComponent.MAX_BYTES_BETWEEN_SPACE_CHECKS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="MAX_MS_BETWEEN_SPACE_CHECKS"><!-- --></A><H3>
MAX_MS_BETWEEN_SPACE_CHECKS</H3>
<PRE>
static final long <B>MAX_MS_BETWEEN_SPACE_CHECKS</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.sf.briar.api.db.DatabaseComponent.MAX_MS_BETWEEN_SPACE_CHECKS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="BYTES_PER_SWEEP"><!-- --></A><H3>
BYTES_PER_SWEEP</H3>
<PRE>
static final int <B>BYTES_PER_SWEEP</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.sf.briar.api.db.DatabaseComponent.BYTES_PER_SWEEP">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="EXPIRY_MODULUS"><!-- --></A><H3>
EXPIRY_MODULUS</H3>
<PRE>
static final long <B>EXPIRY_MODULUS</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.sf.briar.api.db.DatabaseComponent.EXPIRY_MODULUS">Constant Field Values</A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="open(boolean)"><!-- --></A><H3>
open</H3>
<PRE>
void <B>open</B>(boolean&nbsp;resume)
          throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Opens the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resume</CODE> - True to reopen an existing database or false to create a
 new one.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
void <B>close</B>()
           throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Waits for any open transactions to finish and closes the database.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addListener(net.sf.briar.api.db.DatabaseListener)"><!-- --></A><H3>
addListener</H3>
<PRE>
void <B>addListener</B>(<A HREF="../../../../../net/sf/briar/api/db/DatabaseListener.html" title="interface in net.sf.briar.api.db">DatabaseListener</A>&nbsp;d)</PRE>
<DL>
<DD>Adds a listener to be notified when database events occur.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeListener(net.sf.briar.api.db.DatabaseListener)"><!-- --></A><H3>
removeListener</H3>
<PRE>
void <B>removeListener</B>(<A HREF="../../../../../net/sf/briar/api/db/DatabaseListener.html" title="interface in net.sf.briar.api.db">DatabaseListener</A>&nbsp;d)</PRE>
<DL>
<DD>Removes a listener.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addContact(java.util.Map, byte[])"><!-- --></A><H3>
addContact</H3>
<PRE>
<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A> <B>addContact</B>(java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.String&gt;&gt;&nbsp;transports,
                     byte[]&nbsp;secret)
                     throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Adds a new contact to the database with the given transport properties
 and shared secret, returns an ID for the contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addLocallyGeneratedMessage(net.sf.briar.api.protocol.Message)"><!-- --></A><H3>
addLocallyGeneratedMessage</H3>
<PRE>
void <B>addLocallyGeneratedMessage</B>(<A HREF="../../../../../net/sf/briar/api/protocol/Message.html" title="interface in net.sf.briar.api.protocol">Message</A>&nbsp;m)
                                throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Adds a locally generated message to the database.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="findLostBatches(net.sf.briar.api.ContactId)"><!-- --></A><H3>
findLostBatches</H3>
<PRE>
void <B>findLostBatches</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)
                     throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Finds any lost batches that were sent to the given contact, and marks any
 messages in the batches that are still outstanding for retransmission.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="generateAck(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.AckWriter)"><!-- --></A><H3>
generateAck</H3>
<PRE>
void <B>generateAck</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                 <A HREF="../../../../../net/sf/briar/api/protocol/writers/AckWriter.html" title="interface in net.sf.briar.api.protocol.writers">AckWriter</A>&nbsp;a)
                 throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A>,
                        java.io.IOException</PRE>
<DL>
<DD>Generates an acknowledgement for the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="generateBatch(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.BatchWriter)"><!-- --></A><H3>
generateBatch</H3>
<PRE>
void <B>generateBatch</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                   <A HREF="../../../../../net/sf/briar/api/protocol/writers/BatchWriter.html" title="interface in net.sf.briar.api.protocol.writers">BatchWriter</A>&nbsp;b)
                   throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A>,
                          java.io.IOException</PRE>
<DL>
<DD>Generates a batch of messages for the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="generateBatch(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.BatchWriter, java.util.Collection)"><!-- --></A><H3>
generateBatch</H3>
<PRE>
java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/protocol/MessageId.html" title="class in net.sf.briar.api.protocol">MessageId</A>&gt; <B>generateBatch</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                                              <A HREF="../../../../../net/sf/briar/api/protocol/writers/BatchWriter.html" title="interface in net.sf.briar.api.protocol.writers">BatchWriter</A>&nbsp;b,
                                              java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/protocol/MessageId.html" title="class in net.sf.briar.api.protocol">MessageId</A>&gt;&nbsp;requested)
                                              throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A>,
                                                     java.io.IOException</PRE>
<DL>
<DD>Generates a batch of messages for the given contact from the given
 collection of requested messages, and returns the IDs of any messages
 that were either added to the batch, or were considered for inclusion
 but are no longer sendable to the contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="generateOffer(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.OfferWriter)"><!-- --></A><H3>
generateOffer</H3>
<PRE>
java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/protocol/MessageId.html" title="class in net.sf.briar.api.protocol">MessageId</A>&gt; <B>generateOffer</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                                              <A HREF="../../../../../net/sf/briar/api/protocol/writers/OfferWriter.html" title="interface in net.sf.briar.api.protocol.writers">OfferWriter</A>&nbsp;o)
                                              throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A>,
                                                     java.io.IOException</PRE>
<DL>
<DD>Generates an offer for the given contact and returns the offered
 message IDs.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="generateSubscriptionUpdate(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.SubscriptionWriter)"><!-- --></A><H3>
generateSubscriptionUpdate</H3>
<PRE>
void <B>generateSubscriptionUpdate</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                                <A HREF="../../../../../net/sf/briar/api/protocol/writers/SubscriptionWriter.html" title="interface in net.sf.briar.api.protocol.writers">SubscriptionWriter</A>&nbsp;s)
                                throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A>,
                                       java.io.IOException</PRE>
<DL>
<DD>Generates a subscription update for the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="generateTransportUpdate(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.writers.TransportWriter)"><!-- --></A><H3>
generateTransportUpdate</H3>
<PRE>
void <B>generateTransportUpdate</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                             <A HREF="../../../../../net/sf/briar/api/protocol/writers/TransportWriter.html" title="interface in net.sf.briar.api.protocol.writers">TransportWriter</A>&nbsp;t)
                             throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A>,
                                    java.io.IOException</PRE>
<DL>
<DD>Generates a transport update for the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getConnectionWindow(net.sf.briar.api.ContactId, int)"><!-- --></A><H3>
getConnectionWindow</H3>
<PRE>
<A HREF="../../../../../net/sf/briar/api/transport/ConnectionWindow.html" title="interface in net.sf.briar.api.transport">ConnectionWindow</A> <B>getConnectionWindow</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                                     int&nbsp;transportId)
                                     throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns the connection reordering window for the given contact and
 transport.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getContacts()"><!-- --></A><H3>
getContacts</H3>
<PRE>
java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&gt; <B>getContacts</B>()
                                            throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns the IDs of all contacts.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getRating(net.sf.briar.api.protocol.AuthorId)"><!-- --></A><H3>
getRating</H3>
<PRE>
<A HREF="../../../../../net/sf/briar/api/Rating.html" title="enum in net.sf.briar.api">Rating</A> <B>getRating</B>(<A HREF="../../../../../net/sf/briar/api/protocol/AuthorId.html" title="class in net.sf.briar.api.protocol">AuthorId</A>&nbsp;a)
                 throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns the user's rating for the given author.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSharedSecret(net.sf.briar.api.ContactId)"><!-- --></A><H3>
getSharedSecret</H3>
<PRE>
byte[] <B>getSharedSecret</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)
                       throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns the secret shared with the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getSubscriptions()"><!-- --></A><H3>
getSubscriptions</H3>
<PRE>
java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/protocol/Group.html" title="interface in net.sf.briar.api.protocol">Group</A>&gt; <B>getSubscriptions</B>()
                                             throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns the set of groups to which the user subscribes.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTransportConfig(java.lang.String)"><!-- --></A><H3>
getTransportConfig</H3>
<PRE>
java.util.Map&lt;java.lang.String,java.lang.String&gt; <B>getTransportConfig</B>(java.lang.String&nbsp;name)
                                                                    throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns the configuration for the transport with the given name.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTransports()"><!-- --></A><H3>
getTransports</H3>
<PRE>
java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.String&gt;&gt; <B>getTransports</B>()
                                                                                               throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns all local transport properties.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getTransports(net.sf.briar.api.ContactId)"><!-- --></A><H3>
getTransports</H3>
<PRE>
java.util.Map&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.String&gt;&gt; <B>getTransports</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)
                                                                                               throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns all transport properties for the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getVisibility(net.sf.briar.api.protocol.GroupId)"><!-- --></A><H3>
getVisibility</H3>
<PRE>
java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&gt; <B>getVisibility</B>(<A HREF="../../../../../net/sf/briar/api/protocol/GroupId.html" title="class in net.sf.briar.api.protocol">GroupId</A>&nbsp;g)
                                              throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns the contacts to which the given group is visible.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="hasSendableMessages(net.sf.briar.api.ContactId)"><!-- --></A><H3>
hasSendableMessages</H3>
<PRE>
boolean <B>hasSendableMessages</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)
                            throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Returns true if any messages are sendable to the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="receiveAck(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.Ack)"><!-- --></A><H3>
receiveAck</H3>
<PRE>
void <B>receiveAck</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                <A HREF="../../../../../net/sf/briar/api/protocol/Ack.html" title="interface in net.sf.briar.api.protocol">Ack</A>&nbsp;a)
                throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Processes an acknowledgement from the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="receiveBatch(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.Batch)"><!-- --></A><H3>
receiveBatch</H3>
<PRE>
void <B>receiveBatch</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                  <A HREF="../../../../../net/sf/briar/api/protocol/Batch.html" title="interface in net.sf.briar.api.protocol">Batch</A>&nbsp;b)
                  throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Processes a batch of messages from the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="receiveOffer(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.Offer, net.sf.briar.api.protocol.writers.RequestWriter)"><!-- --></A><H3>
receiveOffer</H3>
<PRE>
void <B>receiveOffer</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                  <A HREF="../../../../../net/sf/briar/api/protocol/Offer.html" title="interface in net.sf.briar.api.protocol">Offer</A>&nbsp;o,
                  <A HREF="../../../../../net/sf/briar/api/protocol/writers/RequestWriter.html" title="interface in net.sf.briar.api.protocol.writers">RequestWriter</A>&nbsp;r)
                  throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A>,
                         java.io.IOException</PRE>
<DL>
<DD>Processes an offer from the given contact and generates a request for
 any messages in the offer that the contact should send. To prevent
 contacts from using offers to test for subscriptions that are not
 visible to them, any messages belonging to groups that are not visible
 to the contact are requested just as though they were not present in the
 database.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="receiveSubscriptionUpdate(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.SubscriptionUpdate)"><!-- --></A><H3>
receiveSubscriptionUpdate</H3>
<PRE>
void <B>receiveSubscriptionUpdate</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                               <A HREF="../../../../../net/sf/briar/api/protocol/SubscriptionUpdate.html" title="interface in net.sf.briar.api.protocol">SubscriptionUpdate</A>&nbsp;s)
                               throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Processes a subscription update from the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="receiveTransportUpdate(net.sf.briar.api.ContactId, net.sf.briar.api.protocol.TransportUpdate)"><!-- --></A><H3>
receiveTransportUpdate</H3>
<PRE>
void <B>receiveTransportUpdate</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                            <A HREF="../../../../../net/sf/briar/api/protocol/TransportUpdate.html" title="interface in net.sf.briar.api.protocol">TransportUpdate</A>&nbsp;t)
                            throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Processes a transport update from the given contact.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="removeContact(net.sf.briar.api.ContactId)"><!-- --></A><H3>
removeContact</H3>
<PRE>
void <B>removeContact</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c)
                   throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Removes a contact (and all associated state) from the database.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setConnectionWindow(net.sf.briar.api.ContactId, int, net.sf.briar.api.transport.ConnectionWindow)"><!-- --></A><H3>
setConnectionWindow</H3>
<PRE>
void <B>setConnectionWindow</B>(<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&nbsp;c,
                         int&nbsp;transportId,
                         <A HREF="../../../../../net/sf/briar/api/transport/ConnectionWindow.html" title="interface in net.sf.briar.api.transport">ConnectionWindow</A>&nbsp;w)
                         throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Sets the connection reordering window for the given contact and
 transport.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setRating(net.sf.briar.api.protocol.AuthorId, net.sf.briar.api.Rating)"><!-- --></A><H3>
setRating</H3>
<PRE>
void <B>setRating</B>(<A HREF="../../../../../net/sf/briar/api/protocol/AuthorId.html" title="class in net.sf.briar.api.protocol">AuthorId</A>&nbsp;a,
               <A HREF="../../../../../net/sf/briar/api/Rating.html" title="enum in net.sf.briar.api">Rating</A>&nbsp;r)
               throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Records the user's rating for the given author.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setTransportConfig(java.lang.String, java.util.Map)"><!-- --></A><H3>
setTransportConfig</H3>
<PRE>
void <B>setTransportConfig</B>(java.lang.String&nbsp;name,
                        java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;config)
                        throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Sets the configuration for the transport with the given name, replacing
 any existing configuration for that transport.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setTransportProperties(java.lang.String, java.util.Map)"><!-- --></A><H3>
setTransportProperties</H3>
<PRE>
void <B>setTransportProperties</B>(java.lang.String&nbsp;name,
                            java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;properties)
                            throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Sets the transport properties for the transport with the given name,
 replacing any existing properties for that transport.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setVisibility(net.sf.briar.api.protocol.GroupId, java.util.Collection)"><!-- --></A><H3>
setVisibility</H3>
<PRE>
void <B>setVisibility</B>(<A HREF="../../../../../net/sf/briar/api/protocol/GroupId.html" title="class in net.sf.briar.api.protocol">GroupId</A>&nbsp;g,
                   java.util.Collection&lt;<A HREF="../../../../../net/sf/briar/api/ContactId.html" title="class in net.sf.briar.api">ContactId</A>&gt;&nbsp;visible)
                   throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Makes the given group visible to the given set of contacts and invisible
 to any other contacts.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="subscribe(net.sf.briar.api.protocol.Group)"><!-- --></A><H3>
subscribe</H3>
<PRE>
void <B>subscribe</B>(<A HREF="../../../../../net/sf/briar/api/protocol/Group.html" title="interface in net.sf.briar.api.protocol">Group</A>&nbsp;g)
               throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Subscribes to the given group.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="unsubscribe(net.sf.briar.api.protocol.GroupId)"><!-- --></A><H3>
unsubscribe</H3>
<PRE>
void <B>unsubscribe</B>(<A HREF="../../../../../net/sf/briar/api/protocol/GroupId.html" title="class in net.sf.briar.api.protocol">GroupId</A>&nbsp;g)
                 throws <A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></PRE>
<DL>
<DD>Unsubscribes from the given group. Any messages belonging to the group
 are deleted from the database.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../net/sf/briar/api/db/DbException.html" title="class in net.sf.briar.api.db">DbException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../net/sf/briar/api/db/DatabaseListener.html" title="interface in net.sf.briar.api.db"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?net/sf/briar/api/db/DatabaseComponent.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DatabaseComponent.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
